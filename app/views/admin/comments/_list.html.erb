<% if comments.present? %>
  <div>
    <table class="table">
      <thead>
        <tr>
          <th class="col-2">イベント</th>
          <th class="col-2">ユーザー</th>
          <th class="col-6">コメント</th>
          <th class="col-2"></th>
        </tr>
      </thead>
      <tbody>
        <% comments.each do |comment| %>
          <tr>
            <td>
              <%= link_to admin_event_path(comment.event) do %>
                <%= comment.event.name %>
              <% end %>
            </td>
            <td>
              <%= link_to admin_user_path(comment.user) do %>
                <%= comment.user.name %>
              <% end %>
            </td>
            <td>
              <div class="change-color" data-score="<%= comment.score %>">
                <div>score: <%= comment.score%></div>
                <%= comment.content %>
              </div>
            </td>
            <td>
              <span id="comment<%= comment.id %>_active_switch">
                <%= render "admin/comments/is_active", comment: comment %>
              </span>
              <%= link_to "削除", admin_comment_path(comment), method: :delete, class: "btn btn-sm m-1 btn-danger", data: { confirm: "本当に削除しますか？" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="d-flex justify-content-center"><%= paginate comments %></div>
<% else %>
  <div class="col">コメントはありません</div>
<% end %>
